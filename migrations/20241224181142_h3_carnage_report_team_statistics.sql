-- Add migration script here
CREATE TABLE halo3.carnage_report_team_statistics (
    carnage_report_id UUID NOT NULL,
    team_index SMALLINT NOT NULL,
    games_played SMALLINT NOT NULL,
    games_completed SMALLINT NOT NULL,
    games_won SMALLINT NOT NULL,
    games_tied SMALLINT NOT NULL,
    rounds_completed SMALLINT NOT NULL,
    rounds_won SMALLINT NOT NULL,
    in_round_score SMALLINT NOT NULL,
    in_game_total_score SMALLINT NOT NULL,
    kills SMALLINT NOT NULL,
    assists SMALLINT NOT NULL,
    deaths SMALLINT NOT NULL,
    betrayals SMALLINT NOT NULL,
    suicides SMALLINT NOT NULL,
    most_kills_in_a_row SMALLINT NOT NULL,
    seconds_alive SMALLINT NOT NULL,
    ctf_flag_scores SMALLINT NOT NULL,
    ctf_flag_grabs SMALLINT NOT NULL,
    ctf_flag_carrier_kills SMALLINT NOT NULL,
    ctf_flag_returns SMALLINT NOT NULL,
    assault_bomb_arms SMALLINT NOT NULL,
    assault_bomb_grabs SMALLINT NOT NULL,
    assault_bomb_disarms SMALLINT NOT NULL,
    assault_bomb_detonations SMALLINT NOT NULL,
    oddball_time_with_ball SMALLINT NOT NULL,
    oddball_unused SMALLINT NOT NULL,
    oddball_kills_as_carrier SMALLINT NOT NULL,
    oddball_ball_carrier_kills SMALLINT NOT NULL,
    king_time_on_hill SMALLINT NOT NULL,
    king_total_control_time SMALLINT NOT NULL,
    king_unused0 SMALLINT NOT NULL,
    king_unused1 SMALLINT NOT NULL,
    unused0 SMALLINT NOT NULL,
    unused1 SMALLINT NOT NULL,
    unused2 SMALLINT NOT NULL,
    vip_takedowns SMALLINT NOT NULL,
    vip_kills_as_vip SMALLINT NOT NULL,
    vip_guard_time SMALLINT NOT NULL,
    vip_time_as_vip SMALLINT NOT NULL,
    vip_lives_as_vip SMALLINT NOT NULL,
    juggernaut_kills SMALLINT NOT NULL,
    juggernaut_kills_as_juggernaut SMALLINT NOT NULL,
    juggernaut_total_control_time SMALLINT NOT NULL,
    total_wp SMALLINT NOT NULL,
    juggernaut_unused SMALLINT NOT NULL,
    territories_owned SMALLINT NOT NULL,
    territories_captures SMALLINT NOT NULL,
    territories_ousts SMALLINT NOT NULL,
    territories_time_in_territory SMALLINT NOT NULL,
    infection_zombie_kills SMALLINT NOT NULL,
    infection_infections SMALLINT NOT NULL,
    infection_time_as_human SMALLINT NOT NULL,
    PRIMARY KEY (carnage_report_id, team_index),
    CONSTRAINT fk_statistics_carnage_report_team FOREIGN KEY (carnage_report_id, team_index)
        REFERENCES halo3.carnage_report_team (carnage_report_id, team_index)
        ON DELETE CASCADE
);