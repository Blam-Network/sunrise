-- Add migration script here
CREATE TABLE halo3.carnage_report_player_medals (
    carnage_report_id UUID REFERENCES halo3.carnage_report(id) ON DELETE CASCADE, -- Relates to the carnage report
    player_index SMALLINT NOT NULL, -- Index of the player in the carnage report
    extermination SMALLINT NOT NULL,
    perfection SMALLINT NOT NULL,
    multiple_kill_2 SMALLINT NOT NULL,
    multiple_kill_3 SMALLINT NOT NULL,
    multiple_kill_4 SMALLINT NOT NULL,
    multiple_kill_5 SMALLINT NOT NULL,
    multiple_kill_6 SMALLINT NOT NULL,
    multiple_kill_7 SMALLINT NOT NULL,
    multiple_kill_8 SMALLINT NOT NULL,
    multiple_kill_9 SMALLINT NOT NULL,
    multiple_kill_10 SMALLINT NOT NULL,
    kills_in_a_row_5 SMALLINT NOT NULL,
    kills_in_a_row_10 SMALLINT NOT NULL,
    kills_in_a_row_15 SMALLINT NOT NULL,
    kills_in_a_row_20 SMALLINT NOT NULL,
    kills_in_a_row_25 SMALLINT NOT NULL,
    kills_in_a_row_30 SMALLINT NOT NULL,
    sniper_kill_5 SMALLINT NOT NULL,
    sniper_kill_10 SMALLINT NOT NULL,
    shotgun_kill_5 SMALLINT NOT NULL,
    shotgun_kill_10 SMALLINT NOT NULL,
    collision_kill_5 SMALLINT NOT NULL,
    collision_kill_10 SMALLINT NOT NULL,
    sword_kill_5 SMALLINT NOT NULL,
    sword_kill_10 SMALLINT NOT NULL,
    juggernaut_kill_5 SMALLINT NOT NULL,
    juggernaut_kill_10 SMALLINT NOT NULL,
    zombie_kill_5 SMALLINT NOT NULL,
    zombie_kill_10 SMALLINT NOT NULL,
    human_kill_5 SMALLINT NOT NULL,
    human_kill_10 SMALLINT NOT NULL,
    human_kill_15 SMALLINT NOT NULL,
    koth_kill_5 SMALLINT NOT NULL,
    shotgun_kill_sword SMALLINT NOT NULL,
    vehicle_impact_kill SMALLINT NOT NULL,
    vehicle_hijack SMALLINT NOT NULL,
    aircraft_hijack SMALLINT NOT NULL,
    deadplayer_kill SMALLINT NOT NULL,
    player_kill_spreeplayer SMALLINT NOT NULL,
    spartanlaser_kill SMALLINT NOT NULL,
    stickygrenade_kill SMALLINT NOT NULL,
    sniper_kill SMALLINT NOT NULL,
    bashbehind_kill SMALLINT NOT NULL,
    bash_kill SMALLINT NOT NULL,
    flame_kill SMALLINT NOT NULL,
    driver_assist_gunner SMALLINT NOT NULL,
    assault_bomb_planted SMALLINT NOT NULL,
    assault_player_kill_carrier SMALLINT NOT NULL,
    vip_player_kill_vip SMALLINT NOT NULL,
    juggernaut_player_kill_juggernaut SMALLINT NOT NULL,
    oddball_carrier_kill_player SMALLINT NOT NULL,
    ctf_flag_captured SMALLINT NOT NULL,
    ctf_flag_player_kill_carrier SMALLINT NOT NULL,
    ctf_flag_carrier_kill_player SMALLINT NOT NULL,
    infection_survive SMALLINT NOT NULL,
    nemesis SMALLINT NOT NULL,
    avenger SMALLINT NOT NULL,
    unused3 SMALLINT NOT NULL,
    PRIMARY KEY (carnage_report_id, player_index),
    FOREIGN KEY (carnage_report_id, player_index) REFERENCES halo3.carnage_report_player (carnage_report_id, player_index)
);
